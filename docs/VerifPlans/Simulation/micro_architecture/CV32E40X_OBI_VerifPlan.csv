Requirement Location,Feature,Sub Feature,Feature Description,Verification Goal,Pass/Fail Criteria,Test Type,Coverage Method,Link to Coverage,Comments
"OBIv1.0,
Section 3.3
Protocol adherence
(with specific modifiers from User Manual ac0641d)",Clock and Reset,R-1.1,Masters and slaves shall only ever sample OBI signals on the positive edge of clk.,No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,"OBI Coverage is implemented in core-v-verif/lib/uvm_agents/uvma_obi/uvma_obi_assert.sv.

Cross-ref Requirement number under “Sub-Feature” in this spreadsheet and Comment in uvma_obi_assert.sv.",
,,R-1.2,Masters and slaves shall never generate OBI signals on the negative edge of clk.,No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,,
,,R-1.3,OBI signals shall not be assumed to remain stable between clk edges,Add option to randomize values of OBI inputs to the core one cycle after setting to a specific value.,N/A,N/A,N/A,,"AB: I think R1.3 was misinterpreted; this one is N/A (it has to do with timing constraints, not with simulation)"
,,R-2.1,During reset assertion instr_req_o and data_req_o shall be driven low.,"Ensure !reset_n && [instr | data]_reg_o is never true.

Cover the case where reset_n && [instr | data]_reg_o is true.",Other,Other,Assertion Coverage,Missing,
,,R-2.2,During reset assertion instr_rvalid_i and data_rvalid_i shall be driven low.,"No specific “observable checks” to be made in simulation.  This is a requirement of on the ENV, not RTL.",Other,Other,N/A,,
,Handshake process,R-3,The address channel shall use a two-way control handshake.,No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,,
,,R-3.1,The core shall assert [instr | data]_req_o to indicate validity of address phase signals.,No specific “observable checks” to be made in simulation.  This is a requirement of on the ENV to properly respond to req.,N/A,N/A,N/A,,
,,R-3.1.1,The core shall keep its address phase signals stable during the address phase.,Check to ensure that [instr | data]_addr_o does not change while [instr | data]_req_o is asserted.,Assertion Check,"ENV capability, not specific test",Assertion Coverage,,AB: The assertion should be for all address phase signals (same for data phase signals)
,,R-3.1.2,The core shall not de-assert [instr | data]_req_o until after the last cycle of the address phase.,"Check to ensure that once [instr | data]_req_o is asserted, it does not deassert it until [instr | data]_gnt_i is asserted.",Assertion Check,"ENV capability, not specific test",Assertion Coverage,,
,,R-3.2,The testbench shall indicate its readiness to accept the address phase transfer by asserting [instr | data]_gnt_i.,No specific “observable checks” to be made in simulation.  This is a requirement of on the ENV to properly respond to req.,N/A,N/A,N/A,,
,,R-3.2.1,The testbench shall be allowed to assert [instr | data]_gnt_i at any time (even before corresponding req).,Ensure that no errors are encountered as the ENV injects random reg -> gnt cycle delays (including negative values).,N/A,"ENV capability, not specific test",Assertion Coverage,Missing,
,,R-3.2.2,The testbench shall be allowed to de-assert [instr | data]_gnt_i at any time.,"Ensure that no errors are encountered as the ENV injects random gnt -> !gnt delays.  There are two cases to consider:
1) gnt is asserted on or after same cycle as req
2) gnt is asserted and deasserted during an interval when req is de-asserted",N/A,"ENV capability, not specific test",Assertion Coverage,Missing,
,,R-4,"The response channel shall use a two-way control handshake, treated the unimplemented rready signal as it is is tied high.",No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,,
,,R-4.1,The testbench asserts [instr | data]_rvalid_i to indicate the validity of the response phase signals.,No specific “observable checks” to be made in simulation.  This is a requirement of on the ENV to properly assert rvalid.,N/A,N/A,N/A,,
,,R-4.1.1,The testbench shall keep its response phase signals stable during the response phase.,No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,,
,,R-4.1.2,The testbench shall not deassert [instr | data]_rvalid_i until after the last cycle of the response phase.,No specific “observable checks” to be made in simulation.,N/A,N/A,N/A,,
,,R-4.1.3,Validity of [instr | data]_rdata_i shall only be implied for read transactions.,Ensure that no errors are encountered with random data applied to rdata_i during idle and write transctions.,N/A,"ENV capability, not specific test",N/A,,No specific coverage for this.
,,R-4.2,The core is always ready to accept the response phase transfer.,Absence of simulation failures.,Any/All,"ENV capability, not specific test",N/A,,
,,R-4.2.1,N/A,,N/A,N/A,N/A,,
,,R-4.2.2,N/A,,N/A,N/A,N/A,,
,,R-5,The I and D interfaces can have multiple outstanding transactions.,Coverage of multiple outstanding transactions.,Any/All,Any/All,Other,"There is no explicit coverage of this in the environment.  (Yes, there should be.)  However, we can be confident that this is well covered as the TB prints RND_STALL information at run-time to the logfile.  These (and waveforms) have been extensively reviewed.

Functional coverage of this should be added in a future release of the CV32E40P.",
,,R-6,Response phase transfers shall be sent in the same order as address phase transfers.,No specific “observable checks” to be made in simulation.  Testbench will always serve data in-order.,N/A,N/A,N/A,,
,Signals,R-7,At least one bit of data_be_o[3:0] shall be set to 1’b1.,Proper operation for any simulation in which this requirement is met.,Assertion Check,N/A,Assertion Coverage,,
,,R-7,The 1’s in data_be_o[3:0] shall be contiguous.,Proper operation for any simulation in which this requirement is met.,Assertion Check,N/A,Assertion Coverage,,
,,R-8,data_addr_o[1:0] shall be consistent with data_be_o[3:0],Proper operation for any simulation in which this requirement is met.,Assertion Check,N/A,Assertion Coverage,,
,,R-9,Not applicable to CV32E40P,,,,,,
,Dependencies,R-10,It is not clear that these requirements can be satisfied in simulation verification.  It should be possible to cover them in formal verification.  Let’s discuss.,,,,,,
,,R-10.1,,,,,,,
,,R-10.2,,,,,,,
,,R-10.3,,,,,,,
,,R-11,,,,,,,
,,R-12,,,,,,,
,,R-13,,,,,,,
,,R-14,,,,,,,
,,R-15,,,,,,,
,,R-16,,,,,,,
,Tie-offs,R-17,N/A,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
,,,,,,,,,
 -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- END -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------,,,,,,,,,
